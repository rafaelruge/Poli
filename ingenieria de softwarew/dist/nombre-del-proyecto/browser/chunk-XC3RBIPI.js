import{ea as u,i as a,l as i}from"./chunk-EBSKGQ7D.js";var n=class t{constructor(e){this.router=e;localStorage.getItem("usuarios")||localStorage.setItem("usuarios",JSON.stringify(this.defaultUsers))}defaultUsers=[{email:"admin@residuos.com",password:"admin123",rol:"admin"},{email:"ciudadano@residuos.com",password:"123456",rol:"ciudadano"}];login(e,r){let o=JSON.parse(localStorage.getItem("usuarios")||"[]").find(s=>s.email===e&&s.password===r);return o?(localStorage.setItem("user",JSON.stringify(o)),!0):!1}register(e){let r=JSON.parse(localStorage.getItem("usuarios")||"[]");r.push(e),localStorage.setItem("usuarios",JSON.stringify(r))}getUser(){return JSON.parse(localStorage.getItem("user")||"null")}getUserRole(){return this.getUser()?.rol||null}logout(){localStorage.removeItem("user"),this.router.navigate(["/home"])}isLoggedIn(){return!!localStorage.getItem("user")}static \u0275fac=function(r){return new(r||t)(i(u))};static \u0275prov=a({token:t,factory:t.\u0275fac,providedIn:"root"})};export{n as a};
