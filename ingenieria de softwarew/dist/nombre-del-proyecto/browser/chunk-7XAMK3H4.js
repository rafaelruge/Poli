import{a as C,b as a,c as v,d as h,f as M,g as S,h as x,i as D,j as k,k as L,l as _,n as V}from"./chunk-AHCHQWXB.js";import{a as O}from"./chunk-XC3RBIPI.js";import{A as E,C as c,E as o,F as t,G as d,K as f,L as I,N as r,P as G,aa as A,ba as j,ea as b,ia as F,j as p,t as l,v as s,w as u,x as g}from"./chunk-EBSKGQ7D.js";function z(i,m){if(i&1&&(o(0,"div",9),r(1),t()),i&2){let e=I();l(),G(" ",e.errorMessage," ")}}var P=class i{constructor(m,e,n){this.fb=m;this.authService=e;this.router=n;this.form=this.fb.group({email:["",[a.required,a.email]],password:["",a.required]})}form;errorMessage="";onSubmit(){let{email:m,password:e}=this.form.value;if(this.authService.login(m,e)){let w=this.authService.getUserRole();this.router.navigate([`/${w}`])}else this.errorMessage="Correo o contrase\xF1a incorrectos."}static \u0275fac=function(e){return new(e||i)(s(_),s(O),s(b))};static \u0275cmp=u({type:i,selectors:[["app-login"]],standalone:!1,decls:15,vars:3,consts:[[1,"login-container"],[3,"ngSubmit","formGroup"],[1,"form-field"],["for","email"],["id","email","type","email","formControlName","email"],["for","password"],["id","password","type","password","formControlName","password"],["type","submit",3,"disabled"],["class","error",4,"ngIf"],[1,"error"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"h2"),r(2,"Iniciar Sesi\xF3n"),t(),o(3,"form",1),f("ngSubmit",function(){return n.onSubmit()}),o(4,"div",2)(5,"label",3),r(6,"Correo electr\xF3nico:"),t(),d(7,"input",4),t(),o(8,"div",2)(9,"label",5),r(10,"Contrase\xF1a:"),t(),d(11,"input",6),t(),o(12,"button",7),r(13,"Ingresar"),t(),E(14,z,2,1,"div",8),t()()),e&2&&(l(3),c("formGroup",n.form),l(9),c("disabled",n.form.invalid),l(2),c("ngIf",n.errorMessage))},dependencies:[A,M,C,v,h,S,x],styles:[".login-container[_ngcontent-%COMP%]{max-width:400px;margin:2rem auto;padding:2rem;border-radius:12px;background:#f9f9f9;box-shadow:0 4px 8px #0000001a;font-family:Segoe UI,sans-serif}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem;color:#275d2b}.login-container[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{margin-bottom:1rem}.login-container[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.25rem;font-weight:700}.login-container[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:.5rem;border:1px solid #ccc;border-radius:6px}.login-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:.75rem;background-color:#3ba935;color:#fff;border:none;border-radius:6px;font-weight:700;cursor:pointer;transition:background-color .3s ease}.login-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#b5b5b5;cursor:not-allowed}.login-container[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:red;text-align:center;margin-top:1rem}"]})};var y=class i{constructor(m,e,n){this.fb=m;this.router=e;this.authService=n;this.form=this.fb.group({nombre:["",a.required],email:["",[a.required,a.email]],password:["",[a.required,a.minLength(6)]],rol:["ciudadano",a.required]})}form;onSubmit(){this.form.valid&&(this.authService.register(this.form.value),alert("Usuario registrado con \xE9xito"),this.router.navigate(["/auth/login"]))}static \u0275fac=function(e){return new(e||i)(s(_),s(b),s(O))};static \u0275cmp=u({type:i,selectors:[["app-register"]],standalone:!1,decls:22,vars:2,consts:[[1,"register-container"],[3,"ngSubmit","formGroup"],["type","text","formControlName","nombre"],["type","email","formControlName","email"],["type","password","formControlName","password"],["formControlName","rol"],["value","ciudadano"],["value","admin"],["type","submit",3,"disabled"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"h2"),r(2,"Registro de Usuario"),t(),o(3,"form",1),f("ngSubmit",function(){return n.onSubmit()}),o(4,"label"),r(5,"Nombre:"),t(),d(6,"input",2),o(7,"label"),r(8,"Correo:"),t(),d(9,"input",3),o(10,"label"),r(11,"Contrase\xF1a:"),t(),d(12,"input",4),o(13,"label"),r(14,"Tipo de usuario:"),t(),o(15,"select",5)(16,"option",6),r(17,"Ciudadano"),t(),o(18,"option",7),r(19,"Administrador"),t()(),o(20,"button",8),r(21,"Registrarse"),t()()()),e&2&&(l(3),c("formGroup",n.form),l(17),c("disabled",n.form.invalid))},dependencies:[M,k,L,C,D,v,h,S,x],styles:[".register-container[_ngcontent-%COMP%]{max-width:400px;margin:2rem auto;padding:2rem;background:#f9f9f9;border-radius:12px;box-shadow:0 4px 8px #0000001a;font-family:Segoe UI,sans-serif}.register-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#275d2b;margin-bottom:1rem}.register-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-top:1rem;font-weight:700}.register-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .register-container[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.5rem;margin-top:.25rem;border:1px solid #ccc;border-radius:6px}.register-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1.5rem;width:100%;padding:.75rem;background-color:#3ba935;color:#fff;font-weight:700;border:none;border-radius:6px;cursor:pointer}.register-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}"]})};var H=[{path:"login",component:P},{path:"register",component:y}],N=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=g({type:i});static \u0275inj=p({imports:[F.forChild(H),F]})};var q=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=g({type:i});static \u0275inj=p({imports:[j,N,V]})};export{q as AuthModule};
